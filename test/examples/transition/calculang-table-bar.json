{
  "title": "Changing the Data of a Scatter Plot",
  "sequence": [{
    "data": {"name": "projection"},
    "mark": {"type": "bar", "tooltip": true},
    "encoding": {
      "x": {
        "field": "price_in",
        "scale": {"rangeStep": 12},
        "axis": {
          "labelAngle": 0,
          "orient": "top",
          "labelAlign": "right"
          
        }
      },
      "y": {"field": "value", "type": "quantitative"},
      "text": {"field": "value", "type": "nominal" },
      "color": {"field": "formula", "type": "nominal"}
    },
    "config": {"legend": {"disable": true}},
    "width": 600,
    "height": 100,
    "datasets": {
      "projection": [
        {"cost_in": 7, "price_in": 10, "formula": "profit", "value": 225},
        {"cost_in": 7, "price_in": 11, "formula": "profit", "value": 280},
        {"cost_in": 7, "price_in": 12, "formula": "profit", "value": 325},
        {"cost_in": 7, "price_in": 13, "formula": "profit", "value": 360},
        {"cost_in": 7, "price_in": 14, "formula": "profit", "value": 385},
        {"cost_in": 7, "price_in": 15, "formula": "profit", "value": 400},
        {"cost_in": 7, "price_in": 16, "formula": "profit", "value": 405},
        {"cost_in": 7, "price_in": 17, "formula": "profit", "value": 400},
        {"cost_in": 7, "price_in": 18, "formula": "profit", "value": 385},
        {"cost_in": 7, "price_in": 19, "formula": "profit", "value": 360},
        {"cost_in": 7, "price_in": 20, "formula": "profit", "value": 325}
      ]
    }
  },{
    "data": {"name": "projection"},
    "mark": {"type": "bar", "tooltip": true},
    "encoding": {
      "x": {
        "field": "cost_in",
        "scale": {"rangeStep": 12},
        "axis": {
          "labelAngle": 0,
          "orient": "top",
          "labelAlign": "right"
          
        }
      },
      "y": {"field": "value", "type": "quantitative"},
      "text": {"field": "value", "type": "nominal" },
      "color": {"field": "formula", "type": "nominal"}
    },
    "config": {"legend": {"disable": true}},
    "width": 600,
    "height": 100,
    "datasets": {
      "projection": [
        {"cost_in": 5, "price_in": 15, "formula": "profit", "value": 500},
        {"cost_in": 5.25, "price_in": 15, "formula": "profit", "value": 487.5},
        {"cost_in": 5.5, "price_in": 15, "formula": "profit", "value": 475},
        {"cost_in": 5.75, "price_in": 15, "formula": "profit", "value": 462.5},
        {"cost_in": 6, "price_in": 15, "formula": "profit", "value": 450},
        {"cost_in": 6.25, "price_in": 15, "formula": "profit", "value": 437.5},
        {"cost_in": 6.5, "price_in": 15, "formula": "profit", "value": 425},
        {"cost_in": 6.75, "price_in": 15, "formula": "profit", "value": 412.5},
        {"cost_in": 7, "price_in": 15, "formula": "profit", "value": 400}
      ]
    }
  }],
  "gemSpecs": [
    {
      "timeline": {
        "concat": [
          {
            "sync": [
              {
                "component": {"mark": "marks"},
                "change": {
                  "scale": false,
                  "data": {
                    "keys": ["formula", "price_in", "cost_in"],
                    "enter": false,
                    "update": false,
                    "exit": true
                  },
                  "encode": {
                    "update": {"x": false},
                    "enter": {"x": false},
                    "exit": {"x": false}
                  }
                },
                "timing": {"duration": {"ratio": 0.3}}
              }
            ]
          },
          {
            "sync": [
              {
                "component": {"mark": "marks"},
                "change": {
                  "scale": true,
                  "data": {
                    "keys": ["formula", "price_in", "cost_in"],
                    "enter": false,
                    "update": true,
                    "exit": true
                  },
                  "encode": {"update": true, "enter": false, "exit": true}
                },
                "timing": {"duration": {"ratio": 0.3}}
              },
              {"component": {"axis": "x"}, "timing": {"duration": {"ratio": 0.5}}}
            ]
          },
          {
            "sync": [
              {
                "component": {"mark": "marks"},
                "change": {
                  "scale": true,
                  "data": {
                    "keys": ["formula", "price_in", "cost_in"],
                    "enter": true,
                    "update": true,
                    "exit": true
                  },
                  "encode": {"update": true, "enter": true, "exit": true}
                },
                "timing": {"duration": {"ratio": 0.5}}
              },
              {
                "component": {"axis": "x"},
                "change": {"scale": {"domainDimension": "diff"}},
                "timing": {"duration": {"ratio": 0.5}}
              }
            ]
          }
        ]
      },
      "totalDuration": 2000
    },{
      "meta": {"name": "All at once"},
      "timeline": {
        "sync": [
          {
            "component": {"axis": "x"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"axis": "y"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"mark": "marks"},
            "change": {"data": ["t_in"]},
            "timing": {"duration": {"ratio": 1}}
          }
        ]
      },
      "totalDuration": 2000
    },{
      "meta": {"name": "All at once"},
      "timeline": {
        "sync": [
          {
            "component": {"axis": "x"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"axis": "y"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"mark": "marks"},
            "change": {"data": ["t_in"]},
            "timing": {"duration": {"ratio": 1}}
          }
        ]
      },
      "totalDuration": 2000
    },{
      "meta": {"name": "All at once"},
      "timeline": {
        "sync": [
          {
            "component": {"axis": "x"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"axis": "y"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"mark": "marks"},
            "change": {"data": ["t_in"]},
            "timing": {"duration": {"ratio": 1}}
          }
        ]
      },
      "totalDuration": 2000
    },{
      "meta": {"name": "All at once"},
      "timeline": {
        "sync": [
          {
            "component": {"axis": "x"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"axis": "y"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"mark": "marks"},
            "change": {"data": ["t_in"]},
            "timing": {"duration": {"ratio": 1}}
          }
        ]
      },
      "totalDuration": 2000
    },{
      "meta": {"name": "All at once"},
      "timeline": {
        "sync": [
          {
            "component": {"axis": "x"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"axis": "y"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"mark": "marks"},
            "change": {"data": ["t_in"]},
            "timing": {"duration": {"ratio": 1}}
          }
        ]
      },
      "totalDuration": 2000
    },{
      "meta": {"name": "All at once"},
      "timeline": {
        "sync": [
          {
            "component": {"axis": "x"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"axis": "y"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"mark": "marks"},
            "change": {"data": ["t_in"]},
            "timing": {"duration": {"ratio": 1}}
          }
        ]
      },
      "totalDuration": 2000
    },{
      "meta": {"name": "All at once"},
      "timeline": {
        "sync": [
          {
            "component": {"axis": "x"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"axis": "y"},
            "timing": {"duration": {"ratio": 1}}
          },
          {
            "component": {"mark": "marks"},
            "change": {"data": ["t_in"]},
            "timing": {"duration": {"ratio": 1}}
          }
        ]
      },
      "totalDuration": 2000
    },
    {
      "meta": {"name": "Scale -> Update -> Enter -> Exit"},
      "timeline": {
        "concat": [
          {
            "sync": [
              {"component": {"axis": "x"}, "timing": {"duration": {"ratio": 0.4}}},
              {"component": {"axis": "y"}, "timing": {"duration": {"ratio": 0.4}}},
              {
                "component": {"mark": "marks"},
                "change": {"data": false},
                "timing": {"duration": {"ratio": 0.4}}
              }
            ]
          },
          {
            "component": {"mark": "marks"},
            "change": {
              "data": {"keys": ["name"], "enter": false, "exit": false},
              "encode": {"enter": false, "exit": false}
            },
            "timing": {"duration": {"ratio": 0.2}}
          },
          {
            "component": {"mark": "marks"},
            "change": {
              "data": {"keys": ["name"], "exit": false},
              "encode": {"exit": false}
            },
            "timing": {"duration": {"ratio": 0.2}}
          },
          {
            "component": {"mark": "marks"},
            "change": {"data": ["name"]},
            "timing": {"duration": {"ratio": 0.2}}
          }
        ]
      },
      "totalDuration": 3000
    },
    {
      "meta": {"name": "Interpolate with a manual encode"},
      "timeline": {
        "concat": [
          {
            "component": {"mark": "marks"},
            "change": {
              "data": false,
              "scale": false,
              "encode": {
                "update": {"size": {"value": 1000}, "x": {"signal": "width/2"}, "y": {"signal": "height/2"}}
              }
            },
            "timing": {"duration": {"ratio": 1}, "ease": "cubicIn"}
          },
          {
            "sync": [
              {
                "component": {"axis": "x"},
                "timing": {"duration": {"ratio": 1}, "ease": "cubicOut"}
              },
              {
                "component": {"axis": "y"},
                "timing": {"duration": {"ratio": 1}, "ease": "cubicOut"}
              },
              {
                "component": {"mark": "marks"},
                "change": { "data": ["name"]},
                "timing": {"duration": {"ratio": 1}, "ease": "cubicOut"}
              }
            ]
          }
        ]
      },
      "totalDuration": 2000
    }
  ],
  "userInput": {
    "marks": {"marks": {"change": {"data": ["name"]}}},
    "scales": {"x": {"domainDimension": "same"}, "y": {"domainDimension": "same"}}
  }
}